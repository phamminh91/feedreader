{% extends "base.html" %}

{% block title %}
Toi Doc Bao
{% endblock %}

{% block content %}
<div class="row">
    <div class="col-md-7" ng-controller="popularCtrl as popular">
        <h4 class="lead">Popular</h4>
        <hr>
        <div class="media" style="margin-bottom:5px; line-height:20px" ng-repeat="article in popular.articles">
            <a class="pull-left article-upview" href="{{article.link | angular}}" data-id="{{article.id | angular}}" target="_blank">
                <img class="media-object" width="70" height="70" ng-src="{{article.thumbnail_url | angular}}">
            </a>
            <div class="media-body">
                <h4 class="media-heading">
                    <a href="{{article.link | angular}}" class="article-upview" data-id="{{article.id | angular}}" target="_blank">
                        {{article.title | angular}}
                    </a>
                </h4>
                <small class="sub">Vote: ({{article.upvote | angular}} | {{article.downvote | angular}})</small>
                <small class="sub">Views: {{article.views | angular}}</small>
                <p>
                    {{article.summary | angular}}
                </p>
            </div>
        </div>
    </div>

    <div class="col-md-3">
        <h4 class="lead">Popular Keywords</h4>
        <hr>
        <ul>
        {% for keyword in popular_keywords %}
            <li><mark>#{{keyword}}</mark></li>
        {% endfor %}
        </ul>
    </div>
</div>

</div>

<script>
    // // Get weather information
    // navigator.geolocation.getCurrentPosition(load_weather);
    // function load_weather(location) {
    //   var lat = location.coords.latitude,
    //       lon = location.coords.longitude;
    //   requestData = {
    //     lat: lat,
    //     lon: lon,
    //     units: 'metric'
    //   };

    //   $.ajax({
    //     crossDomain: true,
    //     dataType: 'json',
    //     async: true,
    //     data: requestData,
    //     type: 'GET',
    //     url: 'http://api.openweathermap.org/data/2.5/weather',
    //     success: fill_weather_data,
    //     error: function (xhr, ajaxOptions, thrownError) {
    //       console.log(requestData);
    //       console.log('Error :: ' + thrownError);
    //     }
    //   })
    // };

    // var fill_weather_data = function (json) {
    //   country = json.sys.country;
    //   weather_description = json.weather[0].main;
    //   temp = json.main.temp
    //   $('#weather-info').html('Weather of ' + country + ': ' + weather_description + ' ' + temp + '&deg;  ');
    // };
</script>
{% endblock %}

